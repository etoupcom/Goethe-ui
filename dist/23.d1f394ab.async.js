(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[23],{86504:function(Ae,ee,h){"use strict";h.d(ee,{Z:function(){return te}});var F=h(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},$=O,G=h(27029),X=function(ae,W){return F.createElement(G.Z,Object.assign({},ae,{ref:W,icon:$}))};X.displayName="FileOutlined";var te=F.forwardRef(X)},6324:function(Ae,ee,h){"use strict";h.d(ee,{Z:function(){return xe}});var F=h(90484),O=h(67294),$=h(94184),G=h.n($),X=h(7085),te=h(86504),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},ae=ne,W=h(27029),y=function(A,Z){return O.createElement(W.Z,Object.assign({},A,{ref:Z,icon:ae}))};y.displayName="MinusSquareOutlined";var j=O.forwardRef(y),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},ke=oe,re=function(A,Z){return O.createElement(W.Z,Object.assign({},A,{ref:Z,icon:ke}))};re.displayName="PlusSquareOutlined";var ce=O.forwardRef(re),C={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},D=C,U=function(A,Z){return O.createElement(W.Z,Object.assign({},A,{ref:Z,icon:D}))};U.displayName="CaretDownFilled";var J=O.forwardRef(U),ue=h(96159);function xe(R,A,Z,Q){var Ce=Q.isLeaf,Se=Q.expanded,De=Q.loading;if(De)return O.createElement(X.Z,{className:"".concat(R,"-switcher-loading-icon")});var de;if(Z&&(0,F.Z)(Z)==="object"&&(de=Z.showLeafIcon),Ce)return Z?(0,F.Z)(Z)==="object"&&!de?O.createElement("span",{className:"".concat(R,"-switcher-leaf-line")}):O.createElement(te.Z,{className:"".concat(R,"-switcher-line-icon")}):null;var fe="".concat(R,"-switcher-icon");return(0,ue.l$)(A)?(0,ue.Tm)(A,{className:G()(A.props.className||"",fe)}):A||(Z?Se?O.createElement(j,{className:"".concat(R,"-switcher-line-icon")}):O.createElement(ce,{className:"".concat(R,"-switcher-line-icon")}):O.createElement(J,{className:fe}))}},76513:function(Ae,ee,h){"use strict";h.d(ee,{O:function(){return R.Z},Z:function(){return at}});var F=h(22122),O=h(96156),$=h(28991),G=h(85061),X=h(6610),te=h(5991),ne=h(63349),ae=h(10379),W=h(54070),y=h(67294),j=h(15105),oe=h(80334),ke=h(94184),re=h.n(ke),ce=h(27822),C=h(10225),D=h(1089),U=h(28481),J=h(81253),ue=h(7606),xe=h(60444),R=h(4258),A=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Z=["key"],Q=function(r,N){var e=r.className,o=r.style,k=r.motion,x=r.motionNodes,t=r.motionType,a=r.onMotionStart,n=r.onMotionEnd,s=r.active,i=r.treeNodeRequiredProps,u=(0,J.Z)(r,A),p=y.useState(!0),l=(0,U.Z)(p,2),g=l[0],f=l[1],d=y.useContext(ce.k),v=d.prefixCls,c=y.useRef(!1),m=function(){c.current||n(),c.current=!0};return(0,y.useEffect)(function(){x&&t==="hide"&&g&&f(!1)},[x]),(0,y.useEffect)(function(){return x&&a(),function(){x&&m()}},[]),x?y.createElement(xe.Z,(0,F.Z)({ref:N,visible:g},k,{motionAppear:t==="show",onAppearEnd:m,onLeaveEnd:m}),function(K,P){var E=K.className,T=K.style;return y.createElement("div",{ref:P,className:re()("".concat(v,"-treenode-motion"),E),style:T},x.map(function(b){var M=b.data,L=M.key,w=(0,J.Z)(M,Z),H=b.isStart,z=b.isEnd;delete w.children;var B=(0,D.H8)(L,i);return y.createElement(R.Z,(0,F.Z)({},w,B,{active:s,data:b.data,key:L,isStart:H,isEnd:z}))}))}):y.createElement(R.Z,(0,F.Z)({domRef:N,className:e,style:o},u,{active:s}))};Q.displayName="MotionTreeNode";var Ce=y.forwardRef(Q),Se=Ce;function De(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=S.length,e=r.length;if(Math.abs(N-e)!==1)return{add:!1,key:null};function o(k,x){var t=new Map;k.forEach(function(n){t.set(n,!0)});var a=x.filter(function(n){return!t.has(n)});return a.length===1?a[0]:null}return N<e?{add:!0,key:o(S,r)}:{add:!1,key:o(r,S)}}function de(S,r,N){var e=S.findIndex(function(t){var a=t.data;return a.key===N}),o=S[e+1],k=r.findIndex(function(t){var a=t.data;return a.key===N});if(o){var x=r.findIndex(function(t){var a=t.data;return a.key===o.data.key});return r.slice(k+1,x)}return r.slice(k+1)}var fe=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Xe=["key"],Fe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Je=function(){},ie="RC_TREE_MOTION_".concat(Math.random()),$e={key:ie},He={key:ie,level:0,index:0,pos:"0",node:$e},Be={parent:null,children:[],pos:He.pos,data:$e,isStart:[],isEnd:[]};function ze(S,r,N,e){return r===!1||!N?S:S.slice(0,Math.ceil(N/e)+1)}function Qe(S){var r=S.data.key,N=S.pos;return(0,D.km)(r,N)}function qe(S){for(var r=String(S.data.key),N=S;N.parent;)N=N.parent,r="".concat(N.data.key," > ").concat(r);return r}var _e=function(r,N){var e=r.prefixCls,o=r.data,k=r.selectable,x=r.checkable,t=r.expandedKeys,a=r.selectedKeys,n=r.checkedKeys,s=r.loadedKeys,i=r.loadingKeys,u=r.halfCheckedKeys,p=r.keyEntities,l=r.disabled,g=r.dragging,f=r.dragOverNodeKey,d=r.dropPosition,v=r.motion,c=r.height,m=r.itemHeight,K=r.virtual,P=r.focusable,E=r.activeItem,T=r.focused,b=r.tabIndex,M=r.onKeyDown,L=r.onFocus,w=r.onBlur,H=r.onActiveChange,z=r.onListChangeStart,B=r.onListChangeEnd,V=(0,J.Z)(r,fe),ve=y.useRef(null),ye=y.useRef(null);y.useImperativeHandle(N,function(){return{scrollTo:function(q){ve.current.scrollTo(q)},getIndentWidth:function(){return ye.current.offsetWidth}}});var Te=y.useState(t),ge=(0,U.Z)(Te,2),Le=ge[0],be=ge[1],Me=y.useState(o),he=(0,U.Z)(Me,2),Y=he[0],pe=he[1],we=y.useState(o),je=(0,U.Z)(we,2),ot=je[0],Ke=je[1],rt=y.useState([]),We=(0,U.Z)(rt,2),dt=We[0],Re=We[1],it=y.useState(null),Ve=(0,U.Z)(it,2),st=Ve[0],Ze=Ve[1];function Ye(){pe(o),Ke(o),Re([]),Ze(null),B()}y.useEffect(function(){be(t);var I=De(Le,t);if(I.key!==null)if(I.add){var q=Y.findIndex(function(se){var le=se.data.key;return le===I.key}),me=ze(de(Y,o,I.key),K,c,m),_=Y.slice();_.splice(q+1,0,Be),Ke(_),Re(me),Ze("show")}else{var Ee=o.findIndex(function(se){var le=se.data.key;return le===I.key}),Ie=ze(de(o,Y,I.key),K,c,m),Ne=o.slice();Ne.splice(Ee+1,0,Be),Ke(Ne),Re(Ie),Ze("hide")}else Y!==o&&(pe(o),Ke(o))},[t,o]),y.useEffect(function(){g||Ye()},[g]);var lt=v?ot:o,Ge={expandedKeys:t,selectedKeys:a,loadedKeys:s,loadingKeys:i,checkedKeys:n,halfCheckedKeys:u,dragOverNodeKey:f,dropPosition:d,keyEntities:p};return y.createElement(y.Fragment,null,T&&E&&y.createElement("span",{style:Fe,"aria-live":"assertive"},qe(E)),y.createElement("div",{role:"tree"},y.createElement("input",{style:Fe,disabled:P===!1||l,tabIndex:P!==!1?b:null,onKeyDown:M,onFocus:L,onBlur:w,value:"",onChange:Je})),y.createElement("div",{className:"".concat(e,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},y.createElement("div",{className:"".concat(e,"-indent")},y.createElement("div",{ref:ye,className:"".concat(e,"-indent-unit")}))),y.createElement(ue.Z,(0,F.Z)({},V,{data:lt,itemKey:Qe,height:c,fullHeight:!1,virtual:K,itemHeight:m,prefixCls:"".concat(e,"-list"),ref:ve}),function(I){var q=I.pos,me=I.data,_=me.key,Ee=(0,J.Z)(me,Xe),Ie=I.isStart,Ne=I.isEnd,se=(0,D.km)(_,q);delete Ee.children;var le=(0,D.H8)(se,Ge);return y.createElement(Se,(0,F.Z)({},Ee,le,{active:!!E&&_===E.data.key,pos:q,data:I.data,isStart:Ie,isEnd:Ne,motion:v,motionNodes:_===ie?dt:null,motionType:st,onMotionStart:z,onMotionEnd:Ye,treeNodeRequiredProps:Ge,onMouseMove:function(){H(null)}}))}))},Ue=y.forwardRef(_e);Ue.displayName="NodeList";var et=Ue,Pe=h(17341);function tt(S){var r=S.dropPosition,N=S.dropLevelOffset,e=S.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:o.top=0,o.left=-N*e;break;case 1:o.bottom=0,o.left=-N*e;break;case 0:o.bottom=0,o.left=e;break}return y.createElement("div",{style:o})}var Oe=function(S){(0,ae.Z)(N,S);var r=(0,W.Z)(N);function N(){var e;(0,X.Z)(this,N);for(var o=arguments.length,k=new Array(o),x=0;x<o;x++)k[x]=arguments[x];return e=r.call.apply(r,[this].concat(k)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null},e.dragStartMousePosition=null,e.dragNode=void 0,e.listRef=y.createRef(),e.onNodeDragStart=function(t,a){var n=e.state,s=n.expandedKeys,i=n.keyEntities,u=e.props.onDragStart,p=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=(0,C._5)(s,p);e.setState({dragging:!0,dragChildrenKeys:(0,C.wA)(p,i),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),u&&u({event:t,node:(0,D.F)(a.props)})},e.onNodeDragEnter=function(t,a){var n=e.state,s=n.expandedKeys,i=n.keyEntities,u=n.dragChildrenKeys,p=n.flattenNodes,l=n.indent,g=e.props,f=g.onDragEnter,d=g.onExpand,v=g.allowDrop,c=g.direction,m=a.props.pos,K=(0,ne.Z)(e),P=K.dragNode,E=(0,C.OM)(t,P,a,l,e.dragStartMousePosition,v,p,i,s,c),T=E.dropPosition,b=E.dropLevelOffset,M=E.dropTargetKey,L=E.dropContainerKey,w=E.dropTargetPos,H=E.dropAllowed,z=E.dragOverNodeKey;if(!P||u.indexOf(M)!==-1||!H){e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1});return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(B){clearTimeout(e.delayedDragEnterLogic[B])}),P.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[m]=window.setTimeout(function(){if(!!e.state.dragging){var B=(0,G.Z)(s),V=i[a.props.eventKey];V&&(V.children||[]).length&&(B=(0,C.L0)(s,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(B),d&&d(B,{node:(0,D.F)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),P.props.eventKey===M&&b===0){e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1});return}e.setState({dragOverNodeKey:z,dropPosition:T,dropLevelOffset:b,dropTargetKey:M,dropContainerKey:L,dropTargetPos:w,dropAllowed:H}),f&&f({event:t,node:(0,D.F)(a.props),expandedKeys:s})},e.onNodeDragOver=function(t,a){var n=e.state,s=n.dragChildrenKeys,i=n.flattenNodes,u=n.keyEntities,p=n.expandedKeys,l=n.indent,g=e.props,f=g.onDragOver,d=g.allowDrop,v=g.direction,c=(0,ne.Z)(e),m=c.dragNode,K=(0,C.OM)(t,m,a,l,e.dragStartMousePosition,d,i,u,p,v),P=K.dropPosition,E=K.dropLevelOffset,T=K.dropTargetKey,b=K.dropContainerKey,M=K.dropAllowed,L=K.dropTargetPos,w=K.dragOverNodeKey;!m||s.indexOf(T)!==-1||!M||(m.props.eventKey===T&&E===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):P===e.state.dropPosition&&E===e.state.dropLevelOffset&&T===e.state.dropTargetKey&&b===e.state.dropContainerKey&&L===e.state.dropTargetPos&&M===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:P,dropLevelOffset:E,dropTargetKey:T,dropContainerKey:b,dropTargetPos:L,dropAllowed:M,dragOverNodeKey:w}),f&&f({event:t,node:(0,D.F)(a.props)}))},e.onNodeDragLeave=function(t,a){var n=e.props.onDragLeave;n&&n({event:t,node:(0,D.F)(a.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),s&&!n&&s({event:t,node:(0,D.F)(a.props)}),e.dragNode=null},e.onNodeDrop=function(t,a){var n,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.state,u=i.dragChildrenKeys,p=i.dropPosition,l=i.dropTargetKey,g=i.dropTargetPos,f=i.dropAllowed;if(!!f){var d=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),l!==null){var v=(0,$.Z)((0,$.Z)({},(0,D.H8)(l,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.data.key)===l,data:e.state.keyEntities[l].node}),c=u.indexOf(l)!==-1;(0,oe.ZP)(!c,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var m=(0,C.yx)(g),K={event:t,node:(0,D.F)(v),dragNode:e.dragNode?(0,D.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(u),dropToGap:p!==0,dropPosition:p+Number(m[m.length-1])};d&&!s&&d(K),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.dragging;t&&e.setState({dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null},e.onNodeClick=function(t,a){var n=e.props.onClick;n&&n(t,a)},e.onNodeDoubleClick=function(t,a){var n=e.props.onDoubleClick;n&&n(t,a)},e.onNodeSelect=function(t,a){var n=e.state.selectedKeys,s=e.state.keyEntities,i=e.props,u=i.onSelect,p=i.multiple,l=a.selected,g=a.key,f=!l;f?p?n=(0,C.L0)(n,g):n=[g]:n=(0,C._5)(n,g);var d=n.map(function(v){var c=s[v];return c?c.node:null}).filter(function(v){return v});e.setUncontrolledState({selectedKeys:n}),u&&u(n,{event:"select",selected:f,node:a,selectedNodes:d,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,a,n){var s=e.state,i=s.keyEntities,u=s.checkedKeys,p=s.halfCheckedKeys,l=e.props,g=l.checkStrictly,f=l.onCheck,d=a.key,v,c={event:"check",node:a,checked:n,nativeEvent:t.nativeEvent};if(g){var m=n?(0,C.L0)(u,d):(0,C._5)(u,d),K=(0,C._5)(p,d);v={checked:m,halfChecked:K},c.checkedNodes=m.map(function(L){return i[L]}).filter(function(L){return L}).map(function(L){return L.node}),e.setUncontrolledState({checkedKeys:m})}else{var P=(0,Pe.S)([].concat((0,G.Z)(u),[d]),!0,i),E=P.checkedKeys,T=P.halfCheckedKeys;if(!n){var b=new Set(E);b.delete(d);var M=(0,Pe.S)(Array.from(b),{checked:!1,halfCheckedKeys:T},i);E=M.checkedKeys,T=M.halfCheckedKeys}v=E,c.checkedNodes=[],c.checkedNodesPositions=[],c.halfCheckedKeys=T,E.forEach(function(L){var w=i[L];if(!!w){var H=w.node,z=w.pos;c.checkedNodes.push(H),c.checkedNodesPositions.push({node:H,pos:z})}}),e.setUncontrolledState({checkedKeys:E},!1,{halfCheckedKeys:T})}f&&f(v,c)},e.onNodeLoad=function(t){return new Promise(function(a,n){e.setState(function(s){var i=s.loadedKeys,u=i===void 0?[]:i,p=s.loadingKeys,l=p===void 0?[]:p,g=e.props,f=g.loadData,d=g.onLoad,v=t.key;if(!f||u.indexOf(v)!==-1||l.indexOf(v)!==-1)return null;var c=f(t);return c.then(function(){var m=e.state,K=m.loadedKeys,P=m.loadingKeys,E=(0,C.L0)(K,v),T=(0,C._5)(P,v);d&&d(E,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:E}),e.setState({loadingKeys:T}),a()}).catch(function(m){var K=e.state.loadingKeys,P=(0,C._5)(K,v);e.setState({loadingKeys:P}),n(m)}),{loadingKeys:(0,C.L0)(l,v)}})})},e.onNodeMouseEnter=function(t,a){var n=e.props.onMouseEnter;n&&n({event:t,node:a})},e.onNodeMouseLeave=function(t,a){var n=e.props.onMouseLeave;n&&n({event:t,node:a})},e.onNodeContextMenu=function(t,a){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:a}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0}),t&&t.apply(void 0,arguments)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null),t&&t.apply(void 0,arguments)},e.getTreeNodeRequiredProps=function(){var t=e.state,a=t.expandedKeys,n=t.selectedKeys,s=t.loadedKeys,i=t.loadingKeys,u=t.checkedKeys,p=t.halfCheckedKeys,l=t.dragOverNodeKey,g=t.dropPosition,f=t.keyEntities;return{expandedKeys:a||[],selectedKeys:n||[],loadedKeys:s||[],loadingKeys:i||[],checkedKeys:u||[],halfCheckedKeys:p||[],dragOverNodeKey:l,dropPosition:g,keyEntities:f}},e.setExpandedKeys=function(t){var a=e.state.treeData,n=(0,D.oH)(a,t);e.setUncontrolledState({expandedKeys:t,flattenNodes:n},!0)},e.onNodeExpand=function(t,a){var n=e.state.expandedKeys,s=e.state.listChanging,i=e.props,u=i.onExpand,p=i.loadData,l=a.key,g=a.expanded;if(!s){var f=n.indexOf(l),d=!g;if((0,oe.ZP)(g&&f!==-1||!g&&f===-1,"Expand state not sync with index check"),d?n=(0,C.L0)(n,l):n=(0,C._5)(n,l),e.setExpandedKeys(n),u&&u(n,{node:a,expanded:d,nativeEvent:t.nativeEvent}),d&&p){var v=e.onNodeLoad(a);v&&v.then(function(){var c=(0,D.oH)(e.state.treeData,n);e.setUncontrolledState({flattenNodes:c})}).catch(function(){var c=e.state.expandedKeys,m=(0,C._5)(c,l);e.setExpandedKeys(m)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var a=e.state.activeKey,n=e.props.onActiveChange;a!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t}),n&&n(t))},e.getActiveItem=function(){var t=e.state,a=t.activeKey,n=t.flattenNodes;return a===null?null:n.find(function(s){var i=s.data.key;return i===a})||null},e.offsetActiveKey=function(t){var a=e.state,n=a.flattenNodes,s=a.activeKey,i=n.findIndex(function(l){var g=l.data.key;return g===s});i===-1&&t<0&&(i=n.length),i=(i+t+n.length)%n.length;var u=n[i];if(u){var p=u.data.key;e.onActiveChange(p)}else e.onActiveChange(null)},e.onKeyDown=function(t){var a=e.state,n=a.activeKey,s=a.expandedKeys,i=a.checkedKeys,u=e.props,p=u.onKeyDown,l=u.checkable,g=u.selectable;switch(t.which){case j.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case j.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var f=e.getActiveItem();if(f&&f.data){var d=e.getTreeNodeRequiredProps(),v=f.data.isLeaf===!1||!!(f.data.children||[]).length,c=(0,D.F)((0,$.Z)((0,$.Z)({},(0,D.H8)(n,d)),{},{data:f.data,active:!0}));switch(t.which){case j.Z.LEFT:{v&&s.includes(n)?e.onNodeExpand({},c):f.parent&&e.onActiveChange(f.parent.data.key),t.preventDefault();break}case j.Z.RIGHT:{v&&!s.includes(n)?e.onNodeExpand({},c):f.children&&f.children.length&&e.onActiveChange(f.children[0].data.key),t.preventDefault();break}case j.Z.ENTER:case j.Z.SPACE:{l&&!c.disabled&&c.checkable!==!1&&!c.disableCheckbox?e.onNodeCheck({},c,!i.includes(n)):!l&&g&&!c.disabled&&c.selectable!==!1&&e.onNodeSelect({},c);break}}}p&&p(t)},e.setUncontrolledState=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var s=!1,i=!0,u={};Object.keys(t).forEach(function(p){if(p in e.props){i=!1;return}s=!0,u[p]=t[p]}),s&&(!a||i)&&e.setState((0,$.Z)((0,$.Z)({},u),n))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,te.Z)(N,[{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function(){var o,k=this.state,x=k.focused,t=k.flattenNodes,a=k.keyEntities,n=k.dragging,s=k.activeKey,i=k.dropLevelOffset,u=k.dropContainerKey,p=k.dropTargetKey,l=k.dropPosition,g=k.dragOverNodeKey,f=k.indent,d=this.props,v=d.prefixCls,c=d.className,m=d.style,K=d.showLine,P=d.focusable,E=d.tabIndex,T=E===void 0?0:E,b=d.selectable,M=d.showIcon,L=d.icon,w=d.switcherIcon,H=d.draggable,z=d.checkable,B=d.checkStrictly,V=d.disabled,ve=d.motion,ye=d.loadData,Te=d.filterTreeNode,ge=d.height,Le=d.itemHeight,be=d.virtual,Me=d.titleRender,he=d.dropIndicatorRender,Y=d.onContextMenu,pe=d.direction,we=(0,C.NL)(this.props);return y.createElement(ce.k.Provider,{value:{prefixCls:v,selectable:b,showIcon:M,icon:L,switcherIcon:w,draggable:H,checkable:z,checkStrictly:B,disabled:V,keyEntities:a,dropLevelOffset:i,dropContainerKey:u,dropTargetKey:p,dropPosition:l,dragOverNodeKey:g,indent:f,direction:pe,dropIndicatorRender:he,loadData:ye,filterTreeNode:Te,titleRender:Me,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},y.createElement("div",{className:re()(v,c,(o={},(0,O.Z)(o,"".concat(v,"-show-line"),K),(0,O.Z)(o,"".concat(v,"-focused"),x),(0,O.Z)(o,"".concat(v,"-active-focused"),s!==null),o))},y.createElement(et,(0,F.Z)({ref:this.listRef,prefixCls:v,style:m,data:t,disabled:V,selectable:b,checkable:!!z,motion:ve,dragging:n,height:ge,itemHeight:Le,virtual:be,focusable:P,focused:x,tabIndex:T,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Y},this.getTreeNodeRequiredProps(),we))))}}],[{key:"getDerivedStateFromProps",value:function(o,k){var x=k.prevProps,t={prevProps:o};function a(K){return!x&&K in o||x&&x[K]!==o[K]}var n;if(a("treeData")?n=o.treeData:a("children")&&((0,oe.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=(0,D.zn)(o.children)),n){t.treeData=n;var s=(0,D.I8)(n);t.keyEntities=(0,$.Z)((0,O.Z)({},ie,He),s.keyEntities)}var i=t.keyEntities||k.keyEntities;if(a("expandedKeys")||x&&a("autoExpandParent"))t.expandedKeys=o.autoExpandParent||!x&&o.defaultExpandParent?(0,C.r7)(o.expandedKeys,i):o.expandedKeys;else if(!x&&o.defaultExpandAll){var u=(0,$.Z)({},i);delete u[ie],t.expandedKeys=Object.keys(u).map(function(K){return u[K].key})}else!x&&o.defaultExpandedKeys&&(t.expandedKeys=o.autoExpandParent||o.defaultExpandParent?(0,C.r7)(o.defaultExpandedKeys,i):o.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,n||t.expandedKeys){var p=(0,D.oH)(n||k.treeData,t.expandedKeys||k.expandedKeys);t.flattenNodes=p}if(o.selectable&&(a("selectedKeys")?t.selectedKeys=(0,C.BT)(o.selectedKeys,o):!x&&o.defaultSelectedKeys&&(t.selectedKeys=(0,C.BT)(o.defaultSelectedKeys,o))),o.checkable){var l;if(a("checkedKeys")?l=(0,C.E6)(o.checkedKeys)||{}:!x&&o.defaultCheckedKeys?l=(0,C.E6)(o.defaultCheckedKeys)||{}:n&&(l=(0,C.E6)(o.checkedKeys)||{checkedKeys:k.checkedKeys,halfCheckedKeys:k.halfCheckedKeys}),l){var g=l,f=g.checkedKeys,d=f===void 0?[]:f,v=g.halfCheckedKeys,c=v===void 0?[]:v;if(!o.checkStrictly){var m=(0,Pe.S)(d,!0,i);d=m.checkedKeys,c=m.halfCheckedKeys}t.checkedKeys=d,t.halfCheckedKeys=c}}return a("loadedKeys")&&(t.loadedKeys=o.loadedKeys),t}}]),N}(y.Component);Oe.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:tt,allowDrop:function(){return!0}},Oe.TreeNode=R.Z;var nt=Oe,at=nt}}]);
